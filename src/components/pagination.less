@import "../lib.less";
@import "../variables/components/pagination.less";

.@{veui-prefix}-pagination {
    display: inline-flex;
    font-size: @veui-pagination-font-size-s;

    &-simple {
        .next-page {
            margin-left: @veui-pagination-simple-button-spacing;
        }
    }

    &,
    &-info,
    &-pages,
    &-switch,
    & .@{veui-prefix}-link {
        display: inline-flex;
        align-items: center;
    }

    &-switch {
        flex: 1;
        justify-content: flex-end;
    }

    &-size {
        display: inline-flex;
        align-items: center;
        span {
            display: inline-block;
            color: @veui-pagination-pagesizes-text-font-color;
            line-height: @veui-pagination-pagesizes-text-line-height;
        }
        .@{veui-prefix}-select {
            width: auto;
            flex-grow: 0;
            margin-left: @veui-pagination-spacing-1;
        }
    }

    &-total {
        color: @veui-pagination-pagesizes-text-font-color;
        margin-right: @veui-pagination-total-spacing-s;
    }

    & &-goto {
        display: flex;
        align-items: center;
        margin-left: @veui-pagination-page-items-margin-after;

        .@{veui-prefix}-input {
            width: @veui-pagination-goto-input-width-s;
            .padding(_, @veui-pagination-goto-input-padding-x);
            &-input {
                text-align: right;
            }
        }

        .@{veui-prefix}-button {
            width: @veui-pagination-goto-button-width-s;
            min-width: auto;
        }

        &-label-before,
        &-label-after {
            display: block;
            color: @veui-pagination-pagesizes-text-font-color;
            line-height: @veui-pagination-pagesizes-text-line-height;
        }

        &-label-before {
            margin-right: @veui-pagination-goto-label-spacing;
        }

        &-label-after {
            margin-left: @veui-pagination-goto-label-spacing;
        }

        .@{veui-prefix}-button {
            margin-left: @veui-pagination-spacing-2;
        }
    }

    &-pages {
        list-style: none;
        margin: 0 @veui-pagination-button-spacing;
        padding: 0;
    }

    &-page + &-page {
        margin-left: @veui-pagination-button-spacing;
    }

    .make-metrics(@size) {
        @height: ~"veui-pagination-button-min-width-@{size}";
        @radius: ~"veui-pagination-button-border-radius-@{size}";
        @min-width: ~"veui-pagination-button-min-width-@{size}";
        height: @@height;
        min-width: @@min-width;
        border-radius: @@radius;
    }

    .@{veui-prefix}-link {
        .padding(_, @veui-pagination-button-padding-x);
        .make-metrics(s);
        font-size: @veui-pagination-font-size-s - 2;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        line-height: 1;
        font-variant-numeric: tabular-nums;
        cursor: pointer;

        border: 1px solid @veui-pagination-button-border-color-normal;
        background-color: @veui-pagination-button-background-color-normal;
        color: @veui-pagination-button-font-color-normal;
        .veui-button-transition();

        &.@{veui-prefix}-pagination-more {
            border-color: transparent;
            background-color: transparent;
            position: relative;

            .@{veui-prefix}-icon {
                .veui-transition(opacity);
            }

            .@{veui-prefix}-pagination-more-ellipsis {
                opacity: 1;
            }

            .@{veui-prefix}-pagination-more-arrow {
                position: absolute;
                opacity: 0;
            }

            &:hover {
                border-color: @veui-pagination-button-border-color-normal;
            }

            &:hover,
            &.focus-visible,
            &[data-focus-visible-added] {
                .@{veui-prefix}-pagination-more-ellipsis {
                    opacity: 0;
                }

                .@{veui-prefix}-pagination-more-arrow {
                    opacity: 1;
                }
            }
        }

        &:hover {
            background-color: @veui-pagination-button-background-color-normal-hover;
        }

        &.focus-visible,
        &[data-focus-visible-added] {
            background-color: @veui-pagination-button-background-color-normal-focus;
            .veui-focus-ring(@veui-pagination-button-border-color-focus, @veui-pagination-button-shadow-focus);
        }

        &:hover,
        &.focus-visible,
        &[data-focus-visible-added] {
            text-decoration: none;
        }

        &:active {
            background-color: @veui-pagination-button-background-color-normal-active;
        }

        &.@{veui-prefix}-disabled {
            border-color: @veui-pagination-button-border-color-normal-disabled;
            background-color: @veui-pagination-button-background-color-normal-disabled;
            color: @veui-pagination-button-font-color-normal-disabled;
        }

        &.@{veui-prefix}-current {
            border-color: @veui-pagination-button-border-color-current;
            background-color: @veui-pagination-button-background-color-current;
            color: @veui-pagination-button-font-color-current;
            font-weight: @veui-pagination-button-font-weight-current;
        }
    }

    &[ui~="xs"] {
        font-size: @veui-pagination-font-size-xs;

        .@{veui-prefix}-link {
            .make-metrics(xs);
            font-size: @veui-pagination-font-size-xs - 2;
        }
        .@{veui-prefix}-pagination-total {
            margin-right: @veui-pagination-total-spacing-xs;
        }
        .@{veui-prefix}-pagination-goto {
            .@{veui-prefix}-input {
                width: @veui-pagination-goto-input-width-xs;
            }
            .@{veui-prefix}-button {
                width: @veui-pagination-goto-button-width-xs;
                min-width: auto;
            }
        }
    }

    &[ui~="m"] {
        font-size: @veui-pagination-font-size-m;

        .@{veui-prefix}-link {
            .make-metrics(m);
            font-size: @veui-pagination-font-size-m - 2;
        }

        .@{veui-prefix}-pagination-total {
            margin-right: @veui-pagination-total-spacing-m;
        }

        .@{veui-prefix}-pagination-goto {
            .@{veui-prefix}-input {
                width: @veui-pagination-goto-input-width-m;
            }
            .@{veui-prefix}-button {
                width: @veui-pagination-goto-button-width-m;
                min-width: auto;
            }
        }
    }

    &[ui~="normal"] {
        .@{veui-prefix}-pagination-info {
            display: none;
        }
        .@{veui-prefix}-pagination-switch {
            justify-content: flex-start;
        }
    }
}
